---
import { SEO } from "astro-seo";
import Footer from "../components/footer.astro";
import Navbar from "../components/navbar/navbar.astro";
import "@fontsource-variable/inter/index.css";
import '@fontsource-variable/bricolage-grotesque';
import "../styles/tailwind.css";
import { getLocale } from "astro-i18n-aut";

export interface Props {
  title: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site).toString();

const resolvedImageWithDomain = new URL(
  "/opengraph.jpg",
  Astro.site
).toString();

const { title } = Astro.props;
const locale = getLocale(Astro.url);

const makeTitle = title
  ? title + " | " + "Astrix"
  : "Astrix - Top of the Virtual Private Server Providers";
---

<!DOCTYPE html>
<html lang={locale}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />

    <!-- <link rel="preload" as="image" href={src} alt="Hero" /> -->
    <SEO
      title={makeTitle}
      description="Astrix is a starter website template for Astro built with TailwindCSS."
      canonical={canonicalURL}
      twitter={{
        creator: "@surjithctly",
        site: "@web3templates",
        card: "summary_large_image",
      }}
      openGraph={{
        basic: {
          url: canonicalURL,
          type: "website",
          title: `Astrix - Starter Template for Astro`,
          image: resolvedImageWithDomain,
        },
        image: {
          alt: "Astrix Homepage Screenshot",
        },
      }}
    />
  </head>
  <body class="antialiased text-slate-900">
    <Navbar />
    <main class="relative pt-20 lg:pt-24">
      <slot />
    </main>
    <Footer />
    <style is:global>
      :root {
        --glass-bg: rgba(255, 255, 255, 0.6);
        --glass-bg-strong: rgba(255, 255, 255, 0.74);
        --glass-border: rgba(255, 255, 255, 0.6);
        --glass-border-strong: rgba(255, 255, 255, 0.78);
        --glass-shadow: 0 24px 64px rgba(15, 23, 42, 0.12);
        --glass-shadow-soft: 0 12px 30px rgba(15, 23, 42, 0.08);
      }

      body {
        background:
          radial-gradient(1200px 600px at 10% -10%, rgba(59, 130, 246, 0.15), transparent 60%),
          radial-gradient(1000px 600px at 90% 0%, rgba(16, 185, 129, 0.14), transparent 60%),
          radial-gradient(900px 500px at 50% 100%, rgba(236, 72, 153, 0.08), transparent 60%),
          linear-gradient(180deg, #f7f7fb 0%, #eef2f7 60%, #e9eef5 100%);
        color: #0f172a;
      }

      .glass-panel {
        background: linear-gradient(135deg, var(--glass-bg-strong), var(--glass-bg));
        border: 1px solid var(--glass-border-strong);
        box-shadow: var(--glass-shadow);
        backdrop-filter: blur(22px) saturate(160%);
        -webkit-backdrop-filter: blur(22px) saturate(160%);
      }

      .glass-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        box-shadow: var(--glass-shadow-soft);
        backdrop-filter: blur(16px) saturate(160%);
        -webkit-backdrop-filter: blur(16px) saturate(160%);
      }

      .glass-chip {
        background: rgba(255, 255, 255, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.65);
        box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
        backdrop-filter: blur(12px) saturate(160%);
        -webkit-backdrop-filter: blur(12px) saturate(160%);
      }

      .glass-dark {
        background: rgba(15, 23, 42, 0.72);
        border: 1px solid rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(18px) saturate(140%);
        -webkit-backdrop-filter: blur(18px) saturate(140%);
      }

      .lift {
        transition: transform 0.4s ease, box-shadow 0.4s ease, border-color 0.4s ease;
      }

      .lift:hover {
        transform: translateY(-6px);
        box-shadow: 0 26px 60px rgba(15, 23, 42, 0.16);
        border-color: rgba(255, 255, 255, 0.85);
      }

      .floaty {
        animation: float 10s ease-in-out infinite;
      }

      .floaty-fast {
        animation: float 6s ease-in-out infinite;
      }

      .glow {
        animation: glow 7s ease-in-out infinite;
      }

      .orb {
        position: absolute;
        border-radius: 9999px;
        filter: blur(30px);
        opacity: 0.6;
      }

      .orb-1 {
        width: 320px;
        height: 320px;
        top: -120px;
        left: -60px;
        background: radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.6), rgba(59, 130, 246, 0));
        animation: float 14s ease-in-out infinite;
      }

      .orb-2 {
        width: 380px;
        height: 380px;
        top: 10%;
        right: -140px;
        background: radial-gradient(circle at 70% 30%, rgba(16, 185, 129, 0.55), rgba(16, 185, 129, 0));
        animation: float 16s ease-in-out infinite;
      }

      .orb-3 {
        width: 260px;
        height: 260px;
        bottom: -120px;
        left: 10%;
        background: radial-gradient(circle at 30% 70%, rgba(14, 165, 233, 0.45), rgba(14, 165, 233, 0));
        animation: float 12s ease-in-out infinite;
      }

      .orb-4 {
        width: 220px;
        height: 220px;
        bottom: -80px;
        right: 8%;
        background: radial-gradient(circle at 60% 40%, rgba(236, 72, 153, 0.45), rgba(236, 72, 153, 0));
        animation: float 11s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-12px);
        }
      }

      @keyframes glow {
        0%,
        100% {
          opacity: 0.55;
        }
        50% {
          opacity: 0.9;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .floaty,
        .floaty-fast,
        .glow,
        .orb-1,
        .orb-2,
        .orb-3,
        .orb-4 {
          animation: none;
        }

        .lift {
          transition: none;
        }

        .lift:hover {
          transform: none;
        }
      }

      /* Improve Page speed */
      /* https://css-tricks.com/almanac/properties/c/content-visibility/ */
      img {
        content-visibility: auto;
      }
    </style>
  </body>
</html>
